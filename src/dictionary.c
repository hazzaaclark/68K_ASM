/* COPYRIGHT (C) HARRY CLARK 2023 */

/* MOTOROLA 68000 ASSEMBLER */

/* THIS FILE FOCUSSES ON THE DICTONARY ENTIRES PERTAINING TOWARDS IDENTIFIERS */
/* AND DIRECTIVES IN RELATION TO 68K ASSEMBLY */

/* NESTED INCLUDES */

#include "dictionary.h"

/* INITIALISE THE DICTIONARY HASH TABLE ENTRY SET */
/* DETERMINE THE ALLOCATABLE SIZE OF RESPECTIVE HASH TABLE ENTRIES */

/* CREATED A TREE SYSTEM TO STORE THE CORRESPONDING IDENTIFIER */
/* IN RELATION TO WHICH SEMANTIC IS BEING PARSED */

bool DICTIONARY_INIT(struct DICTIONARY_ENTRY* ENTRY)
{
    ENTRY->ENTRY_SUCCESS = true;

    /* FIRST DETERMINE THE ALLOCTABLE SPACE FOR THE HASH TABLE */
    /* TO STORE ALL PRE-REQUISITIES */

    ENTRY->HASH_TABLE = (void*)malloc(DICT_HASH_TABLE_ENTRIES * sizeof(*ENTRY->HASH_TABLE));

    if(ENTRY->HASH_TABLE == NULL)
        ENTRY->ENTRY_SUCCESS = false;
        return false;

    /* ALLOCATE THAT CORRESPONDING SPACE INTO THE RESPECTIVE ENTRY */
    /* THIS IS BY CASTING A POINTER TO DETERMINE THE OFFSET OF THE SYMBOL */
    /* BASED ON HASH TABLE ENTRIES */

    memset(ENTRY->HASH_TABLE, 0, sizeof(*ENTRY->HASH_TABLE) * DICT_HASH_TABLE_ENTRIES);

    COMPARE_IDENTIFIERS = ENTRY->HASH_CASES ? 0 : memcmp;

    return ENTRY->ENTRY_SUCCESS;
}